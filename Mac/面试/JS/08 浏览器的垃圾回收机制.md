### 1. 谈一谈你对垃圾回收机制的理解。

为了防止内存泄漏，`JS` 的垃圾回收机制要寻找不再使用的变量，并释放掉它的内存。

当一个变量的声明周期结束后，他所指向的内存就会释放。局部变量在它当前的函数中产生作用，当函数结束后，该变量内存会被释放；全局变量会一直存在，**直到浏览器关闭**，它指向的内存才会被释放。

有两种垃圾回收策略：

- **标记清除**：标记阶段为所有活动对象做上标记，清除阶段把没有标记的（也就是非活动对象）销毁。
- **引用计数**：这种回收策略把**对象是否不再需要**简化定义为**对象有没有其他对象引用它**，如果没有引用指向该对象（引用计数为0），对象将被垃圾回收机制回收。

### 2. 这两种回收机制有哪些缺点？

#### 标记清除的缺点：

- **内存碎片化**，空闲内存块是不连续的，容易出现很多空闲内存块，还可能会出现分配所需内存过大的对象时找不到合适的块。

- **分配速度慢**，因为即便是使用 First-fit 策略，其操作仍是一个 O(n) 的操作，最坏情况是每次都要遍历到最后，同时因为碎片化，大对象的分配效率会更慢。

#### 引用计数的缺点：

- 需要一个计数器，所占内存空间大，因为我们也不知道被引用数量的上限。
- 解决不了循环引用导致的无法回收问题。

### 3. V8的垃圾回收机制基于哪种算法，做了哪些优化？

V8的垃圾回收机制**基于标记清除算法**，

- 针对新生区采用并行回收。
- 针对老生区采用增量标记与惰性回收。

