### 1. 定义

- directive
- 在vue中`v-xxx`的**行内属性**，我们统称为vue指令。这些指令实际上都是基于自定义属性设置的，只不过在vue上有特殊含义。
- 当vue加载成功并进行处理的时候，会按照相关的规则解析和渲染视图，遇到对应的指令实现对应的功能。

### 2. 有原生对应的

#### 2.1 v-text

##### 2.1.1 定义

给非表单元素设置内容，**相当于小胡子语法**，v-text会把所有内容都当作文本。

##### 2.1.2 使用

`v-text= '变量'`

##### 2.1.3 场景

- 传统的小胡子语法，在vue没有加载完成前，会把`{{xxx}}`展示在页面中，**当vue加载完才会出现真正的内容**，这样体验不好。
- **可以使用这种方式代替小胡子语法**。

#### 2.2 v-html

##### 2.2.1 定义

给非表单元素设置内容，相当于原生的`innerHTML`，v-html支持对于标签的自动识别。

##### 2.2.2 使用

`v-html= '变量'`

##### 2.2.3 注意

只在可信任的内容上使用该指令，用户可操作的一般不添加这个指令。

#### 2.3 v-for

##### 2.3.1 定义

循环展示标签，想循环谁就给谁设置`v-for`

##### 2.3.2 使用

`v-for = '(值, index) in vue变量'`

其中，值代表数组中的当前项；index是对应的索引。

##### 2.3.3 注意

- 值和key是自己定义的变量，两个都需要加上();
- 这两个变量只能用在当前使用v-for的标签上及其内部。

##### 2.3.4 应用范围

可以用来循环**数组、字符串、数字、对象。**多用于数组。

### 3. 无原生对应的

#### 3.1 v-bind

##### 3.1.1 定义

给元素的内容属性动态绑定数据。例如：给`img`动态绑定图片路径地址。

##### 3.1.2 使用

- `v-bind: src = '变量'`
- 可简写为 `:src = '变量'`

##### 3.1.3 注意

该指令**专门用来处理行内属性(src、class、style)**，一般用简写形式。

#### 3.2 v-cloak

##### 3.2.1 定义

为了解决小胡子的显示问题

##### 3.2.2 使用

`v-cloak`

需要配合css使用，有v-cloak行内属性的元素，会有这个样式（属性选择器）——`[v-cloak]{display: none}`

##### 3.2.3 原理

- 当vue模板渲染前，执行的是普通的`html`，这时，我们写得css样式起作用，让元素`display: none`， 就看不见小胡子了；
- 当模板渲染完成后，vue会自动把这个行内元素移除，这时在页面上展示的是渲染好的html。

#### 3.3 v-once

##### 3.3.1 定义

绑定数据是一次性的，后面无论数据怎么改变，视图也不会重新渲染。

##### 3.3.2 使用

`v-once`

##### 3.3.3 注意

vue对有这个指令的元素只渲染一次。

#### 3.4 v-pre

##### 3.4.1 定义

告诉vue这个标签及其子标签都不用vue渲染

##### 3.4.2 使用

`v-pre`

##### 3.4.3 作用

提升vue的编译效率

#### 3.5 v-if

##### 3.5.1 定义

控制当前元素是否在结构中加载——它控制的是组件的加载和卸载的操作，即DOM的增加和删除。

##### 3.5.2 使用

`v-if = '判断体'`

##### 3.5.3 注意

- 如果判断体的结果是`true`，当前元素会在结构中显示，如果是`false`，当前元素会在结构中移除。
- 还有对应的`v-else-if`、`v-else`等指令，如原生的if...else if...else, 使用时中间不能穿插其他标签。

##### 3.5.4 扩展：template

多个元素条件一样，又不想在结构中添加父标签，可以使用template作为父标签，把它们包裹起来。

```js
let vm = new Vue({
    el: '#app',
    template: '标签',
    data:{...}
}).$mount('#app');
```

在这里，template的作用：指定当前渲染模板，顺序如图：

![image-20220221204345321](C:\Users\Kurja\AppData\Roaming\Typora\typora-user-images\image-20220221204345321.png)

#### 3.6 v-show

##### 3.6.1 定义

基于`display: none`控制元素的显隐

##### 3.6.2 使用

`v-show: '变量'`

##### 3.6.3 注意

`v-show` 后边跟的是一个布尔类型(其他类型会默认转成布尔)

##### 3.6.4 v-if 和v-show的区别

- 当条件不成立时：`v-if`是整个标签都不加载；`v-show`是加载了标签，同时设置了`display: none`属性。
- 性能消耗方面：`v-if`有较大的切换开销；`v-show`有较大的初始加载开销。
- 在过于频繁的切换中，`v-if`明显要比`v-show`性能低一些。

#### 3.7 v-model

##### 3.7.1 定义

一般给表单元素设置的，实现表单元素和数据之间的相互绑定。

##### 3.7.2 使用

`v-model = '变量'`

##### 3.7.3 效果

- 视图 <=> 数据
- 视图改变，表单元素的内容跟着改变，内容改变，数据也会跟着更新。

##### 3.7.4 原理

- 先把数据绑定给表单元素，一般把数据赋值给表单元素的value；
- 监听表单元素的内容改变；
- 内容改变后，会把对应的数据也改变；
- 对应的数据改变，视图中所有用到数据的地方都会重新渲染。

#### 3.8 表单中v-model的使用

##### 3.8.1 定义

按照v-model进行分组，单选框装备的数据是一个值，复选框准备的数据是一个数组；每个框都有自己的value，谁被选中，数据值就是被选中元素的value值，值是多少，对应value的元素也会被默认选中。

##### 3.8.2 复选框

```html
<input value = '1' type = 'checkbox' v-model = 'ary'>
<input value = '1' type = 'checkbox' v-model = 'ary'>
<input value = '1' type = 'checkbox' v-model = 'ary'>
```

`ary`中存放的是被选中的那些`checkbox`的`value`值，`ary[1,3]`:就是默认选中value为1和3的元素

##### 3.8.3 单选框

```html
<input type = 'radio' value = '男' v-model = 'sex'>
<input type = 'radio' value = '女' v-model = 'sex'> 
```

sex存储的是选中的那个radio的value值，`sex: '女'`：就是默认选中的是value为女的元素。

##### 3.8.4 下拉框

```html
<select v-model='food'>
    <option value='rice'>米</option>
    <option value='apple'>苹果</option>
    <option value='banana'>香蕉</option>
</select>
```

food存储的是里边option对应的value值，`food: 'rice'`：默认展示的是value为rice的元素。

